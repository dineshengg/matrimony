<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Matrimony registration form</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="/static/css/header.css">
  </head>

  <header id="cs-navigation">
    <div class="cs-container">
        <!--Nav Logo-->
        <a href="/static/home/home.html" class="cs-logo" aria-label="Back to home">
            <img src="/static/icons/work-from-home-icon.svg" style="width:42px;height:42x;"> Back to home
        </a>
    </div>
  </header>

  <body>
    <div class="container">
      <header>Login to your profile</header>
      <div class="form-outer">
        <form action="/api/new-profile/login" method="POST">
          <div class="page slide-page">
            <div class="title">Account details</div>
            <div class="field">
              <div class="label">Email id</div>
              <input type="text" name="emailid" id="email" placeholder="e.g - kandan@gmail.com" required>
            </div>
            <div class="field">
              <div class="label">Password</div>
              <input type="password" name="password" id="password" placeholder="Enter your password" required>
            </div>
            <div class="field btns">
              <button type="submit" class="submit">Submit</button>
            </div>
            <div id="error-message" hidden></div>
            <a href="/static/login/forgot.html">Forgot Password</a>
          </div>
        </form>
      </div>
    </div>


    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.querySelector("form");
        const submit = document.getElementById("submit");
        form.addEventListener("submit", function (e) {
          // Remove previous error messages
          document.querySelectorAll(".error-message").forEach(el => el.remove());

          let valid = true;

          // Email validation
          const emailInput = document.getElementById("emailid");
          const email = emailInput.value.trim();
          const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (email === "" || !emailPattern.test(email)) {
            showError("Please enter a valid email address.");
            valid = false;
          }

          // Password validation
          const passwordInput = document.getElementById("password");
          const password = passwordInput.value.trim();
          if (password === "") {
            showError("Please enter your password.");
            valid = false;
          }

          if (!valid) {
            e.preventDefault();
          }
        });

        function showError(message) {
          const error = document.getElementById("error-message");
          if (error) {
            error.textContent = message;
            error.hidden = false;
            error.style.color = "red";
            error.style.marginTop = "0.2em";
            error.style.fontWeight = "bold";
          }

          // const error = document.createElement("div");
          // error.className = "error-message";
          // error.style.color = "red";
          // error.style.fontSize = "0.95em";
          // error.style.marginTop = "0.2em";
          // error.textContent = message;
          // input.parentNode.appendChild(error);
        }
      });
    </script>

  </body>
</html>
